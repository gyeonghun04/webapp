<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<style>
controlformtitle{
        position:fixed;top:5.5%; left:58%;
        font-size: 20px;
        font-family: arial;
        font-weight:bold;

}
controlformtext{
        position:fixed;top:7.8%; left:53%;
        font-size: 11px;
}
#pmcontrolformtitle{
    	font-family: arial;
        font-size:11px;
        position:fixed;top:22%; left:39.6%;
        width:59.98%;
        background-color:#6F6F6F;
        color:white;
        height:20px;
}
#pmcontrolformdesc{
        position:fixed; top:24%; left:39.6%;
        width:59.98%;
        height:57.6%;
        overflow-y:scroll;
}

#pmsheet{
    	font-family: arial;
        font-size:11px;
        height:20px;
}
#pmsheethead{
        position:fixed; top:81.7%; left:39.6%;
        width:59.98%;
    	font-family: arial;
        font-size:11px;
        background-color:#6F6F6F;
        color:white;
        height:20px;
}
#pmsheetbody{
        position:fixed; top:83.6%; left:39.6%;
        height:64px;
        width:59.98%;
        overflow-y:scroll;
}

#pmsheettable{
        font-size:11px;
    	font-family: arial;
        border:1px solid #6F6F6F;
        border-collapse:collapse;
}

.s1{width:150px;}
.s2{width:400px;}
.s3{width:360px;}
.s4{width:240px;}
.s1-1{width:150px;}
.s2-1{width:400px;}
.s3-1{width:360px;}
.s4-1{width:240px;
height:20px;}

#pmcontrolformtop{
        position:fixed; top:90%; left:39.6%;
        width:59.98%;
    	font-family: arial;
        font-size:11px;
        background-color:#6F6F6F;
        color:white;
        padding:1px;
        }

#pmcontrolformapproval{
        position:fixed; top:92%; left:39.6%;
        width:59.98%;
        font-family: arial;
        font-size:11px;
        padding:10px;
        border:1px solid #6F6F6F;
        border-collapse:collapse;
        }
#pmtable{
        border:1px solid #6F6F6F;
        border-collapse:collapse;
        font-size:11px;
        font-family: arial;
}

.c1{width:100px;}
.c2{width:37px;}
.c3{width:380px;}
.c4{width:310px;}
.c5{width:200px;}
.c6{width:75px;}

.c1-1{width:100px; height:20px;}
.c2-1{width:80px;}
.c3-1{width:400px;}
.c4-1{width:400px;}
.c5-1{width:200px;}
.c6-1{width:100px;}


.c11{width:300px;
    height:20px;
    background-color: #EEEEEE;
    font-weight:bold;}
.c12{width:300px;
    height:20px;
    background-color:white;}
.c13{width:300px;
    height:20px;
    background-color:white;}

</style>

</head>
<body>
<controlformtitle>
Preventive Maintenance Program Control Form
</controlformtitle>
<controlformtext>
(To be used initiate additions modifications, or deletions of tasks or equipment to/from the Preventive Maintenance System)
</controlformtext>

<main>
<div id="pmcontrolformtitle" >
     <table  style="word-break:break-all">
        <thead>
        <tr>
            <td align="center" class="c1">Frequency</td>
            <td align="center" class="c2">A / D</td>
            <td align="center" class="c3">Maintenance Item</td>
            <td align="center" class="c4">Check Standard</td>
            <td align="center" class="c5">Change Information</td>
            <td align="center" class="c6">Approved Date</td>
        </tr>
        </thead>
     </table>
</div>
<div id="pmcontrolformdesc">
 <table style="word-break:break-all" border="1" id="pmtable">
     <tbody>
                      {% for controlformdb in controlformdb %}
        <tr>
            <td align="center" class="c1-1">{{controlformdb.freq}}</td> <!--models.py에서 값받아오기-->
            <td align="center" class="c2-1">{{controlformdb.amd}}</td>
            <td align="center" class="c3-1">{{controlformdb.item}}</td>
            <td align="center" class="c4-1">{{controlformdb.check}}</td>
            <td align="center" class="c5-1">{{controlformdb.change}}</td>
            <td align="center" class="c6-1">{{controlformdb.startdate}}</td>
            </td>
        </tr>
                             {% endfor %}
        </tbody>
 </table>
</div>

 <div id="pmsheet">
   <table id="pmsheethead">
        <tr>
            <td align="center" class="s1">Frequency</td>
            <td align="center" class="s2">PM Sheet No.</td>
            <td align="center" class="s3">Start Date (Y/M)</td>
            <td align="center" class="s4">Remark</td>
        </tr>
   </table>
 </div>

 <div id="pmsheetbody">
   <table id="pmsheettable"  border="1">
               {% for pmsheetdb in pmsheet %}
     <tr>
            <td align="center" class="s1-1">{{pmsheetdb.freq_temp}}</td>
            <td align="center" class="s2-1">{{pmsheetdb.pmsheetno_temp}}</td>
            <td align="center" class="s3-1">{{pmsheetdb.startdate_temp}}</td>
            <td align="center" class="s4-1"></td>
     </tr>
                   {% endfor %}
   </table>
 </div>
 <div>

 <table style="word-break:break-all" id="pmcontrolformtop">
     <thead>
         <tr>
            <td align="center">Review & Approved</td>
        </tr>
     </thead>
 </table>
 <table style="word-break:break-all" id="pmcontrolformapproval" border="1">
    <tbody>
                   {% for controlform_name in equipinforev %}
        <tr>
            <td align="left" class="c11">Prepared by:</td> <!--models.py에서 값받아오기-->
            <td align="center" class="c12">{{controlform_name.p_name}}</td>
            <td align="center" class="c13">{{controlform_name.p_date}}</td>
        </tr>
                   {% endfor %}
        <tr>
            <td align="left" class="c11">Reviewed by:</td> <!--models.py에서 값받아오기-->
            <td align="center" class="c12">
                {%if r_name_signal == "None" %}
                <form action="pmapproval_check_accept" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Accept" onclick="this.disabled=true;this.value='Accept'; this.form.submit();"></form>
                {%elif r_name_signal == "" %}
                <form action="pmapproval_check_accept" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Accept" onclick="this.disabled=true;this.value='Accept'; this.form.submit();"></form>
                {%else%}
                {{r_name_signal}}
                {%endif%}
                </td>
            <td align="center" class="c13">
                {%if r_name_signal == "None" %}
                <form action="pmapproval_check_reject" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Reject" onclick="this.disabled=true;this.value='Reject'; this.form.submit();"></form>
                {%elif r_name_signal == "" %}
                <form action="pmapproval_check_reject" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Reject" onclick="this.disabled=true;this.value='Reject'; this.form.submit();"></form>
                {%else%}
                {{r_date_signal}}
                {%endif%}
                </td>
        </tr>
        <tr>
            <td align="left" class="c11">Approved by:</td> <!--models.py에서 값받아오기-->
            <td align="center" class="c12">
                {%if r_name_signal == "None" %}
                {%elif r_name_signal == "" %}
                {%else%}
                {%if a_name %}
                {{a_name}}
                {%else%}
                <form action="pmapproval_approved_accept" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{r_date}}" name="r_date">
                <input type="hidden" value="{{r_name}}" name="r_name">
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Accept" onclick="this.disabled=true;this.value='Accept'; this.form.submit();"></form>
                {%endif%}
                {%endif%}
            </td>
            <td align="center" class="c13">
                {%if r_name_signal == "None" %}
                {%elif r_name_signal == "" %}
                {%else%}
                {%if a_name %}
                {{a_date}}
                {%else%}
             <form action="pmapproval_approved_reject" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{r_date}}" name="r_date">
                <input type="hidden" value="{{r_name}}" name="r_name">
                <input type="hidden" value="{{loginid}}" name="loginid">
                <input type="hidden" value="{{controlno}}" name="controlno">
                <input type="submit" class="button" value="Reject"  onclick="this.disabled=true;this.value='Reject'; this.form.submit();"></form>
                {%endif%}
                {%endif%}
            </td>
        </tr>
     </tbody>
 </table>
 </div>
</main>
</body>
</html>