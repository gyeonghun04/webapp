<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>

#tablemenu{
    	font-family: arial;
        font-size:11px;
        position:fixed;top:7.5%; left:9%;
        height:2.5%;
        width:90.7%;
        background-color:#6F6F6F;
        color:white;
}
#tabledesc{
        position:absolute;top:10%; left:9%;
        z-index:10;
        width:90.7%;
        font-family: arial;
        font-size:11px;
        overflow-y:scroll;
        height:83.8%;
}
.m2{width:80px;}
.m3{width:70px;}
.m4{width:200px;}
.m5{width:220px;}
.m6{width:230px;}
.m7{width:170px;}
.m8{width:180px;}
.m9{width:80px;}
.m10{width:120px;}
.m11{width:80px;}
.m12{width:70px;}
.m13{width:90px;}
.m14{width:80px;}

.m2-1{width:80px;}
.m3-1{width:70px;}
.m4-1{width:200px;}
.m5-1{width:220px;}
.m6-1{width:250px;}
.m7-1{width:170px;}
.m8-1{width:180px;}
.m9-1{width:90px;}
.m10-1{width:120px;}
.m11-1{width:80px;}
.m12-1{width:80px;}
.m13-1{width:80px;}
.m14-1{width:80px;}

body{overflow:hidden;}

tr:nth-child(even){
    background-color:#EEEEEE;
}
#manualchange{
        position:fixed; top:94%; left:9%;
        width:90.7%;
    	font-family: arial;
        font-size:11px;
        background-color:#6F6F6F;
        color:white;
        height:20px;
}

#manualchangeinput{
        position:fixed; top:96.5%; left:9%;
        width:90.7%;
    	font-family: arial;
        font-size:11px;
        height:40px;
}

.n1{width:30px;}
.n2{width:80px;}
.n3{width:70px;}
.n4{width:200px;}
.n5{width:300px;}
.n6{width:250px;}
.n7{width:230px;}
.n8{width:200px;}
.n9{width:80px;}
.n10{width:120px;}
.n11{width:80px;}
.n12{width:80px;}

.m2-2{width:60px;}
.m3-2{width:90px;}
.m4-2{width:180px;}
.m5-2{width:300px;}
.m6-2{width:220px;}
.m7-2{width:250px;}
.m8-2{width:160px;}
.m9-2{width:100px;}
.m10-2{width:100px;}
.m11-2{width:80px; height:21px;}

.button{
    	font-family: arial;
    	margin-left:20px;
        cursor:pointer;
}
.delete_button{
    	font-family: arial;
        font-size:11px;
        cursor:pointer;
}
</style>
<body>
<main>
{% include "css.html"%}
{% include "top.html"%}
{% include "sidetap.html"%}
{% include "equipmentlisttop.html"%}
<div id="tablemenu">
     <table  style="word-break:break-all">
        <thead>
        <tr>
            <td align="center" class="m2">Control No.</td>
            <td align="center" class="m3">Team</td>
            <td align="center" class="m4">Equip. Name</td>
            <td align="center" class="m5">Model Name</td>
            <td align="center" class="m6">Serial No.</td>
            <td align="center" class="m7">Manufacturer</td>
            <td align="center" class="m8">Room Name</td>
            <td align="center" class="m9">Room No.</td>
            <td align="center" class="m10">Setup Year</td>
            <td align="center" class="m11">PQ</td>
            <td align="center" class="m12">PM</td>
            <td align="center" class="m13">Change</td>
            <td align="center" class="m14">Delete</td>
        </tr>
        </thead>
     </table>
</div>
<div id="tabledesc">
 <table style="word-break:break-all">
     <tbody>
                      {% for equiplist in equiplists %}
        <tr>
            <td align="center" class="m2-1">{{equiplist.controlno}}</td>
            <td align="center" class="m3-1">{{equiplist.team}}</td>
            <td align="center" class="m4-1">{{equiplist.name}}</td>
            <td align="center" class="m5-1">{{equiplist.model}}</td>
            <td align="center" class="m6-1">{{equiplist.serial}}</td>
            <td align="center" class="m7-1">{{equiplist.maker}}</td>
            <td align="center" class="m8-1">{{equiplist.roomname}}</td>
            <td align="center" class="m9-1">{{equiplist.roomno}}</td>
            <td align="center" class="m10-1">{{equiplist.setupdate}}</td>
            <td align="center" class="m11-1">{{equiplist.pq}}</td>
            <td align="center" class="m12-1">{{equiplist.pmok}}</td>
            <td align="center" class="m13-1">
                <input type="hidden" value="{{equiplist.controlno}}" name="controlno_give">
                <input type="hidden" value="{{equiplist.team}}" name="team_give">
                <input type="hidden" value="{{equiplist.name}}" name="name_give">
                <input type="hidden" value="{{equiplist.model}}" name="model_give">
                <input type="hidden" value="{{equiplist.serial}}" name="serial_give">
                <input type="hidden" value="{{equiplist.maker}}" name="maker_give">
                <input type="hidden" value="{{equiplist.roomname}}" name="roomname_give">
                <input type="hidden" value="{{equiplist.roomno}}" name="roomno_give">
                <input type="button" class="delete_button" value="Change" onclick="Info_change(this);">
            </td>
            <td align="center" class="m14-1">
                <input type="button" class="delete_button" value="Delete">
            </td>
        </tr>
                  {% endfor %}
        </tbody>
 </table>
</div>
    <form name="Info_change.form" method="post">
                     {% csrf_token %}
        <input type="hidden" name="controlno" id="controlno_up">
        <input type="hidden" name="team" id="team_up">
        <input type="hidden" name="name" id="name_up">
        <input type="hidden" name="model" id="model_up">
        <input type="hidden" name="serial" id="serial_up">
        <input type="hidden" name="maker" id="maker_up">
        <input type="hidden" name="roomname" id="roomname_up">
        <input type="hidden" name="roomno" id="roomno_up">
        <input type="hidden" name="{{auth}}" id="auth_up">
        <input type="hidden" value="{{loginid}}" id="loginid_up"></form>
</main>
<script>
        function Info_change(obj){
                // 행위치값과 플랜데이트 받기
            var i = obj.parentNode.parentNode.rowIndex;
            var controlno= document.getElementsByName('controlno_give')[i].value;
            var team= document.getElementsByName('team_give')[i].value;
            var name= document.getElementsByName('name_give')[i].value;
            var model= document.getElementsByName('model_give')[i].value;
            var serial= document.getElementsByName('serial_give')[i].value;
            var maker= document.getElementsByName('maker_give')[i].value;
            var roomname= document.getElementsByName('roomname_give')[i].value;
            var roomno= document.getElementsByName('roomno_give')[i].value;
                // html로 값보내기
            document.Info_change.form.controlno.value = controlno;
            document.Info_change.form.team.value = team;
            document.Info_change.form.name.value = name;
            document.Info_change.form.model.value = model;
            document.Info_change.form.serial.value = serial;
            document.Info_change.form.maker.value = maker;
            document.Info_change.form.roomname.value = roomname;
            document.Info_change.form.roomno.value = roomno;
                        // 팝업창열기
            var settings ='toolbar=0,directories=0,status=no,menubar=0,scrollbars=auto,resizable=no,width=880, height=840, left=50, top=10';
            window.open("/equip_info_change", "Equipment Information Change", settings);
    }

</script>
</body>
</html>